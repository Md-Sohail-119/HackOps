<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mood Tune - Mood to Music</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Animated Background -->
    <div class="grid-background"></div>
    
    <!-- Floating Particles -->
    <div class="particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <div class="logo-icon">üéµ</div>
                <h1>Mood Tune</h1>
            </div>
            <p class="tagline">Transform your emotions into the perfect soundtrack</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <div class="main-content">
            <!-- Voice Input Section -->
            <section class="feature-section">
                <div class="card voice-card">
                    <div class="card-header">
                        <div class="card-icon">üé§</div>
                        <h3 class="card-title">Voice Your Mood</h3>
                    </div>
                    <button id="voiceBtn" class="voice-button">
                        <img src="microphone-alt (1).png" alt="">
                        <div id="pulseRing" class="pulse-ring"></div>
                    </button>
                    <p class="voice-status">Click to start/stop recording</p>
                    <div id="recordingIndicator" class="recording-indicator">
                        <div class="recording-dot"></div>
                        <span>Recording... <span id="countdown">10</span>s</span>
                    </div>
                </div>
            </section>

            <!-- Text Input Section -->
            <section class="feature-section">
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">‚úçÔ∏è</div>
                        <h3 class="card-title">Describe Your Vibe</h3>
                    </div>
                    <input 
                        type="text" 
                        id="textInput" 
                        class="text-input" 
                        placeholder="I'm feeling energetic and ready to conquer the world..."
                    >
                    <button id="textSubmit" class="submit-button">
                        Generate My Playlist
                    </button>
                </div>
            </section>

            <!-- Quick Mood Selection Section -->
            <section class="feature-section">
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">üé≠</div>
                        <h3 class="card-title">Quick Mood Picker</h3>
                    </div>
                    <div class="mood-grid">
                        <div class="mood-item" data-mood="joy">
                            <div class="mood-emoji">üòä</div>
                            <div class="mood-name">Joy</div>
                        </div>
                        <div class="mood-item" data-mood="sadness">
                            <div class="mood-emoji">üò¢</div>
                            <div class="mood-name">Sadness</div>
                        </div>
                        <div class="mood-item" data-mood="anger">
                            <div class="mood-emoji">üò†</div>
                            <div class="mood-name">Anger</div>
                        </div>
                        <div class="mood-item" data-mood="fear">
                            <div class="mood-emoji">üò®</div>
                            <div class="mood-name">Fear</div>
                        </div>
                        <div class="mood-item" data-mood="surprise">
                            <div class="mood-emoji">üò≤</div>
                            <div class="mood-name">Surprise</div>
                        </div>
                        <div class="mood-item" data-mood="love">
                            <div class="mood-emoji">üíï</div>
                            <div class="mood-name">Love</div>
                        </div>
                        <div class="mood-item" data-mood="neutral">
                            <div class="mood-emoji">üòê</div>
                            <div class="mood-name">Neutral</div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Results Section -->
        <section id="resultsSection" class="results-section">
            <h2 class="results-title">Your Personalized Vibes</h2>
            <div id="resultsGrid" class="results-grid">
                <!-- Results will be populated here -->
            </div>
        </section>
    </main>

    <script>
        let isRecording = false;
        let recordingTimer;
        let countdownValue = 10;

        // Elements
        const voiceBtn = document.getElementById('voiceBtn');
        const pulseRing = document.getElementById('pulseRing');
        const recordingIndicator = document.getElementById('recordingIndicator');
        const countdown = document.getElementById('countdown');
        const textInput = document.getElementById('textInput');
        const textSubmit = document.getElementById('textSubmit');
        const resultsSection = document.getElementById('resultsSection');
        const resultsGrid = document.getElementById('resultsGrid');
        const moodItems = document.querySelectorAll('.mood-item');

        // Mood mappings
        const moodData = {
            joy: [
                { emoji: 'üåü', mood: 'Euphoric', energy: 'Very High' },
                { emoji: '‚òÄÔ∏è', mood: 'Cheerful', energy: 'High' },
                { emoji: 'üéâ', mood: 'Celebratory', energy: 'High' }
            ],
            sadness: [
                { emoji: 'üåßÔ∏è', mood: 'Melancholic', energy: 'Low' },
                { emoji: 'üíô', mood: 'Reflective', energy: 'Low' },
                { emoji: 'üåô', mood: 'Contemplative', energy: 'Medium' }
            ],
            anger: [
                { emoji: 'üî•', mood: 'Intense', energy: 'Very High' },
                { emoji: '‚ö°', mood: 'Aggressive', energy: 'High' },
                { emoji: 'üí¢', mood: 'Frustrated', energy: 'High' }
            ],
            fear: [
                { emoji: 'üåä', mood: 'Anxious', energy: 'Medium' },
                { emoji: 'üå´Ô∏è', mood: 'Uncertain', energy: 'Low' },
                { emoji: '‚ùÑÔ∏è', mood: 'Tense', energy: 'Medium' }
            ],
            surprise: [
                { emoji: '‚ú®', mood: 'Amazed', energy: 'High' },
                { emoji: 'üéÜ', mood: 'Excited', energy: 'Very High' },
                { emoji: 'üåà', mood: 'Delighted', energy: 'High' }
            ],
            love: [
                { emoji: 'üíñ', mood: 'Romantic', energy: 'Medium' },
                { emoji: 'üåπ', mood: 'Passionate', energy: 'High' },
                { emoji: 'üí´', mood: 'Dreamy', energy: 'Medium' }
            ],
            neutral: [
                { emoji: 'üåø', mood: 'Peaceful', energy: 'Low' },
                { emoji: 'üßò', mood: 'Balanced', energy: 'Medium' },
                { emoji: 'üå∏', mood: 'Serene', energy: 'Low' }
            ]
        };

        // Voice recording
        voiceBtn.addEventListener('click', toggleRecording);

        function toggleRecording() {
            if (isRecording) {
                stopRecording();
            } else {
                startRecording();
            }
        }

        function startRecording() {
            isRecording = true;
            countdownValue = 10;
            
            pulseRing.classList.add('active');
            recordingIndicator.classList.add('active');
            voiceBtn.innerHTML = '‚èπÔ∏è';
            
            recordingTimer = setInterval(() => {
                countdownValue--;
                countdown.textContent = countdownValue;
                
                if (countdownValue <= 0) {
                    stopRecording();
                }
            }, 1000);
        }

        function stopRecording() {
            isRecording = false;
            clearInterval(recordingTimer);
            
            pulseRing.classList.remove('active');
            recordingIndicator.classList.remove('active');
            voiceBtn.innerHTML = 'üé§';
            
            setTimeout(() => {
                showRandomResults();
            }, 500);
        }

        // Text input
        textSubmit.addEventListener('click', handleTextSubmit);
        textInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                handleTextSubmit();
            }
        });

        function handleTextSubmit() {
            const text = textInput.value.trim();
            if (text) {
                textInput.value = '';
                showRandomResults();
            }
        }

        // Mood selection
        moodItems.forEach(item => {
            item.addEventListener('click', () => {
                // Remove selection from all items
                moodItems.forEach(i => i.classList.remove('selected'));
                
                // Add selection to clicked item
                item.classList.add('selected');
                
                // Show results for selected mood
                const mood = item.dataset.mood;
                showMoodResults(mood);
            });
        });

        function showMoodResults(moodType) {
            const results = moodData[moodType] || moodData.joy;
            displayResults(results);
        }

        function showRandomResults() {
            const moods = Object.keys(moodData);
            const randomMood = moods[Math.floor(Math.random() * moods.length)];
            showMoodResults(randomMood);
        }

        function displayResults(results) {
            resultsGrid.innerHTML = '';
            
            results.forEach((result, index) => {
                const card = document.createElement('div');
                card.className = 'result-card';
                card.style.animationDelay = `${index * 0.2}s`;
                
                card.innerHTML = `
                    <div class="result-emoji">${result.emoji}</div>
                    <div class="result-mood">${result.mood}</div>
                    <div class="result-energy">Energy: ${result.energy}</div>
                `;
                
                card.addEventListener('click', () => {
                    document.querySelectorAll('.result-card').forEach(c => {
                        c.classList.remove('selected');
                    });
                    card.classList.add('selected');
                });
                
                resultsGrid.appendChild(card);
            });
            
            resultsSection.classList.add('show');
            resultsSection.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98722720714347b0',t:'MTc1OTIxODg3Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
